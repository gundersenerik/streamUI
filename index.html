<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVP Builder</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="app-layout">

        <!-- LEFT SIDEBAR -->
        <aside class="sidebar-left">
            <div class="logo">
                <div class="logo-icon">SB</div>
                <div class="logo-text">
                    <span class="logo-title">SVP Builder</span>
                    <span class="logo-subtitle">Braze Content Generator</span>
                </div>
            </div>

            <nav class="content-type-nav">
                <div class="nav-label">CONTENT TYPE</div>

                <button class="nav-item active" data-type="live">
                    <span class="nav-icon">üì∫</span>
                    <span>Live Content</span>
                </button>

                <button class="nav-item" data-type="sports">
                    <span class="nav-icon">‚öΩ</span>
                    <span>Sports Events</span>
                </button>

                <button class="nav-item" data-type="podcasts">
                    <span class="nav-icon">üéôÔ∏è</span>
                    <span>Podcasts</span>
                </button>

                <button class="nav-item" data-type="vod">
                    <span class="nav-icon">üé¨</span>
                    <span>Video on Demand</span>
                </button>

                <button class="nav-item" data-type="all">
                    <span class="nav-icon">üéØ</span>
                    <span>All Content</span>
                </button>
            </nav>

            <div class="sidebar-footer">
                <div class="version-info">v7.0 - Sports Update</div>
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="main-content">

            <header class="content-header">
                <h1 id="content-title">Live Content</h1>
                <p id="content-description">Fetch currently live streams and broadcasts</p>
            </header>

            <section class="preset-cards" id="preset-cards">
                <!-- Dynamically populated -->
            </section>

            <!-- GENERAL FILTERS (shown for Live, VOD, All) -->
            <section class="filters-section" id="general-filters">
                <div class="filters-header">
                    <h3>Filters</h3>
                    <button class="reset-btn" id="reset-filters">Reset all</button>
                </div>

                <div class="filters-grid">
                    <div class="filter-group">
                        <label class="filter-label">CATEGORY</label>
                        <select class="filter-select" id="filter-category">
                            <option value="">All Categories</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">RESULTS</label>
                        <input type="number" class="filter-input" id="filter-limit" value="10" min="1" max="100">
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">SORT</label>
                        <select class="filter-select" id="filter-sort">
                            <option value="-published">Newest First</option>
                            <option value="published">Oldest First</option>
                            <option value="-flightTimes.start">Start Time (Latest)</option>
                        </select>
                    </div>
                </div>
            </section>

            <!-- SPORTS FILTERS (shown only for Sports Events) -->
            <section class="filters-section sports-filters hidden" id="sports-filters">
                <div class="filters-header">
                    <h3>‚öΩ Sports Filters</h3>
                    <button class="reset-btn" id="reset-sports-filters">Reset all</button>
                </div>

                <!-- Sports Info Banner -->
                <div class="sports-info" id="sports-info">
                    <div class="sports-info-icon">üì°</div>
                    <div class="sports-info-text">
                        <strong>Live Sports:</strong> Available on <span class="provider-highlight">VGTV</span> and
                        <span class="provider-highlight">Aftonbladet</span>. Select one of these providers to fetch
                        sports content.
                    </div>
                </div>

                <!-- Time Filter Toggle -->
                <div class="time-filter-toggle">
                    <button class="time-btn active" data-time="live">
                        <span class="time-icon">üî¥</span>
                        <span>Live Now</span>
                    </button>
                    <button class="time-btn" data-time="today">
                        <span class="time-icon">üìÖ</span>
                        <span>Today</span>
                    </button>
                    <button class="time-btn" data-time="week">
                        <span class="time-icon">üìÜ</span>
                        <span>This Week</span>
                    </button>
                    <button class="time-btn" data-time="upcoming">
                        <span class="time-icon">‚è∞</span>
                        <span>Upcoming</span>
                    </button>
                    <button class="time-btn" data-time="all">
                        <span class="time-icon">üéØ</span>
                        <span>All</span>
                    </button>
                </div>

                <div class="filters-grid">
                    <div class="filter-group">
                        <label class="filter-label">RESULTS</label>
                        <input type="number" class="filter-input" id="sports-limit" value="10" min="1" max="100">
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">SORT BY</label>
                        <select class="filter-select" id="sports-sort">
                            <option value="flightTimes.start">Start Time (Soonest)</option>
                            <option value="-flightTimes.start">Start Time (Latest)</option>
                            <option value="-published">Recently Added</option>
                        </select>
                    </div>
                </div>

                <!-- Sport Type Tags -->
                <div class="sport-tags-section">
                    <div class="sport-tags-header">
                        <label class="filter-label">FILTER BY SPORT</label>
                        <button class="load-tags-btn" id="load-sport-tags">
                            <span class="load-icon">üîÑ</span>
                            Load Tags
                        </button>
                    </div>
                    <div class="sport-tags-list" id="sport-tags-list">
                        <div class="sport-tags-empty">
                            <p>Select a provider and click "Load Tags" to see available sports</p>
                        </div>
                    </div>
                    <div class="selected-tags-count hidden" id="selected-tags-count">
                        <span id="tags-count-text">0 sports selected</span>
                        <button class="clear-tags-btn" id="clear-tags">Clear all</button>
                    </div>
                </div>
            </section>

            <!-- PODCAST FILTERS (shown only for Podcasts) -->
            <section class="filters-section podcast-filters hidden" id="podcast-filters">
                <div class="filters-header">
                    <h3>üéôÔ∏è Podcast Filters</h3>
                    <button class="reset-btn" id="reset-podcast-filters">Reset all</button>
                </div>

                <!-- Mode Toggle -->
                <div class="mode-toggle">
                    <button class="mode-btn active" data-mode="single">
                        <span class="mode-icon">üéß</span>
                        <span>Single Podcast</span>
                    </button>
                    <button class="mode-btn" data-mode="digest">
                        <span class="mode-icon">üì∞</span>
                        <span>Weekly Digest</span>
                    </button>
                </div>

                <!-- Mode Info -->
                <div class="mode-info" id="mode-info">
                    <div class="mode-info-icon">üí°</div>
                    <div class="mode-info-text">
                        <strong>Single Podcast Mode:</strong> Fetch episodes from one podcast. Perfect for automated
                        "new episode" emails.
                    </div>
                </div>

                <div class="filters-grid">
                    <div class="filter-group">
                        <label class="filter-label">CONTENT TYPE</label>
                        <select class="filter-select" id="podcast-content-type">
                            <option value="">All Content</option>
                            <option value="episodes">Full Episodes Only</option>
                            <option value="clips">Clips & Highlights</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">ACCESS</label>
                        <select class="filter-select" id="podcast-access">
                            <option value="">All (Free & Paid)</option>
                            <option value="free">Free Only</option>
                            <option value="paid">Premium/Paid Only</option>
                        </select>
                    </div>

                    <div class="filter-group" id="limit-group">
                        <label class="filter-label">RESULTS</label>
                        <input type="number" class="filter-input" id="podcast-limit" value="10" min="1" max="100">
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">SORT BY</label>
                        <select class="filter-select" id="podcast-sort">
                            <option value="-published">Newest First</option>
                            <option value="published">Oldest First</option>
                            <option value="-duration">Longest First</option>
                            <option value="duration">Shortest First</option>
                        </select>
                    </div>

                    <div class="filter-group" id="date-filter-group">
                        <label class="filter-label">RELEASED WITHIN</label>
                        <select class="filter-select" id="podcast-date-filter">
                            <option value="">Any Time</option>
                            <option value="1">Last 24 Hours</option>
                            <option value="7">Last 7 Days</option>
                            <option value="14">Last 14 Days</option>
                            <option value="30">Last 30 Days</option>
                        </select>
                    </div>
                </div>

                <!-- Podcast Series Selection -->
                <div class="series-section">
                    <div class="series-header">
                        <label class="filter-label" id="series-label">SELECT PODCAST SERIES</label>
                        <button class="fetch-series-btn" id="fetch-series">
                            <span class="fetch-icon">üîÑ</span>
                            Load Series
                        </button>
                    </div>
                    <input type="text" class="series-search" id="series-search" placeholder="Search podcasts...">
                    <div class="series-list" id="series-list">
                        <div class="series-empty">
                            <p>Select a provider and click "Load Series" to see available podcasts</p>
                        </div>
                    </div>
                    <div class="series-selected-count hidden" id="series-selected-count">
                        <span id="selected-count-text">0 podcasts selected</span>
                    </div>
                </div>
            </section>

            <!-- PREVIEW SECTION -->
            <section class="preview-section">
                <div class="preview-header">
                    <span class="preview-icon">üìã</span>
                    <span class="preview-title">Content Preview</span>
                    <span class="preview-count" id="preview-count"></span>
                    <button class="preview-btn" id="load-preview">Load Preview</button>
                </div>
                <div class="preview-content" id="preview-content">
                    <div class="preview-empty">
                        <div class="preview-empty-icon">üîç</div>
                        <p>Click "Load Preview" to see what content your query will return</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- RIGHT SIDEBAR -->
        <aside class="sidebar-right">

            <div class="provider-section">
                <div class="provider-header">
                    <span class="provider-icon">üì°</span>
                    <span class="provider-label">PROVIDER</span>
                </div>
                <select id="provider-select" class="provider-select">
                    <option value="">Select Provider</option>
                    <optgroup label="Norwegian">
                        <option value="vgtv">VG / VGTV ‚öΩ</option>
                        <option value="ap">Aftenposten</option>
                        <option value="bt">Bergens Tidende</option>
                        <option value="aftenbladet">Stavanger Aftenblad</option>
                        <option value="e24">E24</option>
                    </optgroup>
                    <optgroup label="Swedish">
                        <option value="ab">Aftonbladet ‚öΩ</option>
                        <option value="svd">Svenska Dagbladet</option>
                    </optgroup>
                    <optgroup label="Audio">
                        <option value="podme">Podme</option>
                    </optgroup>
                </select>
                <small class="provider-hint" id="provider-hint"></small>
            </div>

            <div class="variable-section">
                <label class="field-label">VARIABLE NAME</label>
                <input type="text" id="variable-name" class="variable-input" value="content">
                <small class="variable-hint" id="variable-hint"></small>
            </div>

            <div class="output-tabs">
                <button class="output-tab active" data-tab="connected">Connected Content</button>
                <button class="output-tab" data-tab="liquid">Liquid Templates</button>
            </div>

            <div class="output-panel" id="panel-connected">
                <div class="code-section">
                    <div class="code-header">
                        <span>BRAZE CODE</span>
                        <button class="copy-btn" data-target="braze-code">Copy</button>
                    </div>
                    <pre class="code-block" id="braze-code">Select a provider to begin...</pre>
                </div>

                <div class="code-section">
                    <div class="code-header">
                        <span>API URL</span>
                        <button class="copy-btn" data-target="readable-url">Copy</button>
                    </div>
                    <pre class="code-block code-block-small" id="readable-url">https://svp.vg.no/...</pre>
                </div>
            </div>

            <div class="output-panel hidden" id="panel-liquid">
                <div class="template-list" id="template-list">
                    <!-- Templates will be dynamically populated based on mode -->
                </div>

                <div class="code-section">
                    <div class="code-header">
                        <span>LIQUID CODE</span>
                        <button class="copy-btn" data-target="liquid-code">Copy</button>
                    </div>
                    <pre class="code-block" id="liquid-code">Select a template above...</pre>
                </div>
            </div>
        </aside>
    </div>

    <div class="toast" id="toast"></div>

    <script src="app.js"></script>
</body>

</html>